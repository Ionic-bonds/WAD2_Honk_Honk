<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--Backend scripts-->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src='js/LTA_api.js'></script>
    <script src='js/places_api.js'></script>
    <script src='js/directions_api.js'></script>
    <script src='js/weather_api.js'></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFXsFJUHmBVOBH2mWBru93D5kWpLmp-FY&callback=initMap&libraries=places&v=weekly";
      defer></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- font awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <!-- Link to css style -->
    <link rel="stylesheet" href="./style.css">

    <!-- Link to Animate.css -->

    <link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- Scroll magic -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

    <script>
			// init controller
			var controller = new ScrollMagic.Controller();
		</script>

    <title>Honk Honk!</title>

  
  </head>
  <body>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  


    <!-- Start of coding -->
    <div>
        <div class="row">
            <div class="col-md-12">
                <!-- Start of navbar -->

                <nav class="navbar navbar-expand navbar-dark bg-dark flex-column flex-sm-row">
                  <a href="#" class="navbar-brand flex-sm-fill">
                    <img src="./images/car3.jpg" class = "animate__fadeInDownBig" width="40px" height="40px" alt="" id="test" style="margin-left:5px; border-radius: 10%;">
                    <label style ="font-family:sans-serif; color:white; !important; margin-left:10px; margin-top:5px;">Honk Honk !</label>
                  </a>
                  <div class="justify-content-center p-1 rounded rounded-pill flex-sm-fill">
                    <div class="input-group">
                      <input id='pac-input' style="color:black;" type="text" placeholder="Input 6 digit postal code/Place" aria-describedby="button-addon1" class="controls form-control border-0 search" style = "margin-left:10px;">
                      <div class="input-group-append">
                        <button id="button-addon1" type="submit" class="btn btn-outline-light text-info" onclick='get_postal_code()'><i class="fa fa-search"></i></button>
                      </div>
                    </div>
                  </div>
                  <button style="margin-left: 15%;" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>  
                  <div class="collapse navbar-collapse justify-content-end flex-sm-fill" id="navbarNavAltMarkup">
                    <ul class="navbar-nav" style="color:white; !important">
                      <li class="nav-item"><a class="nav-link" href="./honk2.html">About Us </a></li>
                      <li class="nav-item"><a class="nav-link" href="./honk2.html#faq">FAQ</a></li>
                      <li class="nav-item"><a class="nav-link" href="#contact">Contact Us</a></li>
                    </ul>
                  </div>
                  
                </nav>

                <!-- End of navbar -->
                <!-- Start of text -->
                <!-- End of text -->

                <div class = "">
                  <h3 style= "color: blue; font-size: 20px">
                    <img src="./images/car.png"  class="car">
                    One step nearer to your destination!
                  </h3>
                </div>
                
                <div id='location_search_error' style="text-align: center;">
                  <!-- display error if user searches invalid location -->
                </div>

                <!-- Map -->
                <div id='map'>
                </div>
                <!-- End of jumbotron -->

                <!-- Start of direction guide -->
                <div class = "container" id = "directionsPanel">

                </div>

                <!-- End of direction guide -->

                <!-- Start of jumbotron -->

                  <div class="jumbotron" style="margin-top: 30px">
                      <div class = "col"  style="text-align: center;">
                        <h1 style='color:#d8eaef;font-size: 40px;' class="display-3">
                          <b>This is Honk Honk!</b>
                        </h1>
                        <p style='color:#d8eaef; padding-left: 10%; padding-right: 10%;'>
                          We are here to make your life easier and simple. With just a few clicks, you will be able to check availability of carpark slots and rates anywhere in Singapore
                        </p>
                      </div>
                      <div class = "container">
                        <!-- Weather -->
                        <div id="weather" style="text-align: center;">
                        </div>
                        <!-- End of Weather-->

                        <!-- Weather description -->
                        <div id = "weather_description" style="text-align:center;">
                        </div>
                        <!-- End of weather description-->
    
                        <!-- Current Date and Time -->
                        <div id = "time" style="text-align: center;">        
                        </div>
                        <!-- End of Date and Time-->
    
                        <!-- Temperature -->
                        <div id = "temperature" style="text-align: center;">
                        </div>
                        <!-- End of Temperature-->
                      </div>

                      <div class="col">
                        <p style="text-align: center;">
                          <img src = "./images/honk.png" width= "100px" height= "70px" style= "margin-top:25px;">
                        </p>
                        <h5 style="text-align: center;">
                          Need help in navigation?
                          <br>
                          <button class="button button-outline button-outline-white" onclick="window.location.href='./honk2.html'" target="_blank" style ="margin-top:10px; border: 1px; border-radius: 50px; font-size: 20px; padding: 15px">
                            <span style="text-align: center;"><b>Learn about us</b></span>
                          </button>
                        </h5>
                        <div class = "row">
                          <div class="col-3"></div>
                        </div>
                      </div>
                      <br>



                    <!-- Start of invisible until the user scrolls to reveal it in javascript -->
                     
                   

                      <div class="container">

                        <!--Grid row-->
                        <!--<div class="row">-->

                          <!--Grid column-->
                          <div class="col-md-12">

                            <div id="trigger1" ></div>

                            <!-- try -->
                            
                              <style type="text/css">
                                #reveal1 {
                                  opacity: 0;
                                  -webkit-transform: scale(0.9);
                                     -moz-transform: scale(0.9);
                                      -ms-transform: scale(0.9);
                                       -o-transform: scale(0.9);
                                          transform: scale(0.9);
                                  -webkit-transition: all 1s ease-in-out;
                                     -moz-transition: all 1s ease-in-out;
                                      -ms-transition: all 1s ease-in-out;
                                       -o-transition: all 1s ease-in-out;
                                          transition: all 1s ease-in-out;
                                }
                                #reveal1.visible {
                                  opacity: 1;
                                  -webkit-transform: none;
                                     -moz-transform: none;
                                      -ms-transform: none;
                                       -o-transform: none;
                                          transform: none;
                                }
                              </style>
                             
                              <div id="trigger1"></div>
                              <div id="reveal1">
                                <!-- Video -->
                              <div class="embed-responsive embed-responsive-16by9 mb-4">
                                <iframe class="embed-responsive-item "  src="https://www.youtube.com/embed/sJciO_05lEo"
                                allowfullscreen></iframe>
                              </div>
                                
                              </div>
                              
                              <script>
                                  // build scene
                                  new ScrollMagic.Scene({
                                            triggerElement: "#trigger1",
                                            triggerHook: 0.8, // show, when scrolled 10% into view
                                            duration: "0%", // hide 10% before exiting view (80% + 10% from bottom)
                                            offset: 50 // move trigger to center of element
                                          })
                                          .setClassToggle("#reveal1", "visible") // add class to reveal
                                          .addTo(controller);
                              </script>
                      

                           </div>

                           <!-- start of introduction -->

                            <!-- Grid row -->
                            <div class="container" style = "background-color:aquamarine; border-radius: 15%; margin-bottom: 10px; margin-left: 0px;">

                              <!-- Grid column -->
                              <div style= "text-align: center; padding: 15px">

                                <!-- Start of Content -->
                                <div class = "row">
                                  <div class = "col-md-6">
                                    <h1 class = "logo-text"><span>What's this?</span></h1>
                                      <p> 
                                        An application that aims to help car users to have access to real-time availability of car parks and alternative routes to their destinations within Singapore. 
                                      </p>
                                  </div>
                                  <hr class="clearfix w-100 d-md-none pb-3">

                              <!-- Grid column -->
                                  <div class = "col-md-6">
                                    <div style = "text-align: center;">

                                      <!-- Start of Content -->
                                      <h1 class = "logo-text"><span>Contact Us</span></h1>
                                      <div id = "contact">
                                        <span><i class =" fas fa-phone"></i> &nbsp; +65 9876 5432</span>
                                        <span><i class =" fas fa-envelope"></i> &nbsp; honk-service@gmail.com </span>
                                      </div>
                                      <br>
                                      <div class = "socials">
                                        <a href = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1' target="_blank"><i class = "fab fa-facebook"></i></a>
                                        <a href = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1' target="_blank"><i class = "fab fa-twitter"></i></a>
                                        <a href = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1' target="_blank"><i class = "fab fa-instagram"></i></a>
                                        <a href = 'https://www.youtube.com/embed/2ETEnpTFOxY?autoplay=1' target="_blank"><i class = "fab fa-youtube"></i></a>  
                                      </div>
                                    </div>
                                  </div>

                                </div>
                                
                                <!-- End of content -->

                              </div>
                              

                            </div>
                          </div>
                        </div>
                    <div class="footer-copyright text-center py-2" style="background-color: black; color:white; width:100%">
                      © HONK! HONK! Designed by Group 31 - 2020 Copyright
                    </div>

                    </div>

                  </div>
                 




                  
                  </div>
                  </div>
            </div>
        </div>
    </div>
    

    <!-- End of coding -->

    </body>

    <script>
      //map init
      var map, infoWindow, directionsService, directionsRenderer;
      function initMap() {
        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer();
        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 1.3521, lng: 103.8198 },
            zoom: 15,
        });
        directionsRenderer.setMap(map);
        directionsRenderer.setPanel(document.getElementById('directionsPanel'));

        infoWindow = new google.maps.InfoWindow();
        const locationButton = document.createElement("button");
        locationButton.textContent = "Current location";
        locationButton.classList.add("custom-map-control-button");
        map.controls[google.maps.ControlPosition.TOP_CENTER].push(locationButton);
        locationButton.addEventListener("click", () => {
            // Try HTML5 geolocation.
            if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                const pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude,
                };
                infoWindow.setPosition(pos);
                infoWindow.setContent("You are here");
                infoWindow.open(map);
                map.setCenter(pos);
                },
                () => {
                handleLocationError(true, infoWindow, map.getCenter());
                }
            );
            } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
            }

          })


          //google search bar
          const input = document.getElementById("pac-input");
          const searchBox = new google.maps.places.SearchBox(input);
          //map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
          // Bias the SearchBox results towards current map's viewport.
          map.addListener("bounds_changed", () => {
            searchBox.setBounds(map.getBounds());
          });
          let markers = [];
          // Listen for the event fired when the user selects a prediction and retrieve
          // more details for that place.
          searchBox.addListener("places_changed", () => {
            get_postal_code();
          });
      }

      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
              (position) => {
              const pos = {
                  lat: position.coords.latitude,
                  lng: position.coords.longitude,
              };
              infoWindow.setPosition(pos);
              infoWindow.setContent("You are here");
              infoWindow.open(map);
              map.setCenter(pos);
              },
              () => {
              handleLocationError(true, infoWindow, map.getCenter());
              }
          );
          } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }

        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(
            browserHasGeolocation
            ? "Error: The Geolocation service failed."
            : "Error: Your browser doesn't support geolocation."
        );
        infoWindow.open(map);
        }
        call_carpark_availability_api();
        call_weather_api();
    </script>
    
</html>

















   









